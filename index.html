<!DOCTYPE html>
<html lang="id">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Undangan Pernikahan | Agus & Fitria â€“ 14 September 2025</title>
  <meta name="description" content="Undangan pernikahan Agus Setiawan & Siti Fitria Nurhasanah (Yaya). Minggu, 14 September 2025 di Kp.Cibungur RT.06 RW.02 Desa Cikaum Barat, Kec. Cikaum, Kab. Subang." />
  <meta name="theme-color" content="#0f5132" />
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Alex+Brush&family=Poppins:wght@300;400;500;600;700&display=swap" rel="stylesheet">
  <style>
    :root{
      --green-900:#0b3d2a;
      --green-800:#0f5132;
      --green-700:#146c43;
      --green-100:#e9f5ec;
      --gold:#d4af37;
      --bg:#f6fbf7;
      --paper:#ffffff;
      --shadow:0 10px 30px rgba(0,0,0,.08);
      --radius:22px;
    }
    *{box-sizing:border-box}
    html,body{margin:0;padding:0;background:var(--bg);color:#1b1b1b;font-family:Poppins,system-ui,-apple-system,"Segoe UI",Roboto,"Helvetica Neue",Arial,sans-serif}
    img{max-width:100%;display:block}
    a{color:var(--green-800);text-decoration:none}

    .ornate{
      --orn-color: var(--green-800);
      position: relative;
      background: linear-gradient(180deg, #f0faf3 0%, #ffffff 40% 60%, #f0faf3 100%);
      border-radius: var(--radius);
      box-shadow: var(--shadow);
      overflow: hidden;
    }

    header.hero{
      text-align:center; color:var(--green-900);
      padding: 64px 18px 28px;
      position: relative;
    }
    .badge-date{display:inline-block;background:var(--green-800);color:#fff;padding:4px 12px;border-radius:999px;font-weight:500;letter-spacing:.3px}
    h1.names{font-family:"Alex Brush",cursive;font-size:50px;line-height:1;margin:15px 0 8px;color:var(--green-800)}
    .sub{font-size:12px;opacity:.85}

    .container{max-width:980px;margin:0 auto;padding:18px}
    .card{background:var(--paper);border-radius:var(--radius);box-shadow:var(--shadow);padding:22px}

    .grid-2{display:grid;grid-template-columns:1.1fr .9fr;gap:22px}
    @media (max-width: 860px){
      .grid-2{grid-template-columns:1fr;}
      h1.names{font-size:48px}
    }

    .divider{height:1px;background:linear-gradient(90deg,transparent,rgba(20,108,67,.35),transparent);margin:22px 0}
    .section-title{display:flex;align-items:center;gap:10px;color:var(--green-800);font-weight:700;text-transform:uppercase;letter-spacing:.12em;font-size:12px}
    .section-title:before,.section-title:after{content:"";flex:1;height:1px;background:linear-gradient(90deg,transparent,var(--green-700));opacity:.35}

    .btn{display:inline-flex;align-items:center;gap:8px;border:0;outline:0;cursor:pointer;background:var(--green-800);color:#fff;padding:12px 18px;border-radius:14px;font-weight:600;box-shadow:0 6px 18px rgba(15,81,50,.25);transition:transform .06s ease}
    .btn:active{transform:translateY(1px)}
    .btn.alt{background:#f8faf9;color:var(--green-800);border:1px solid rgba(20,108,67,.25)}

    .countdown{display:flex;gap:10px;flex-wrap:wrap;justify-content:center}
    .cd-box{background:#fff;border:1px solid rgba(20,108,67,.12);border-radius:14px;padding:10px 14px;min-width:70px;text-align:center}
    .cd-n{font-size:20px;font-weight:700;color:var(--green-800)}
    .cd-l{font-size:11px;opacity:.7}

    footer{ text-align:center; font-size:12px; opacity:.7; padding:24px 0 40px; }

    #cover{position:fixed;inset:0;background:linear-gradient(180deg,rgba(0,0,0,.35),rgba(0,0,0,.5)),url('https://placehold.co/1200x800?text=Agus+%26+Siti'); background-size:cover;background-position:center;display:flex;align-items:center;justify-content:center;z-index:1000}
    #cover .inner{background:#ffffffee;backdrop-filter:blur(8px);padding:28px;border-radius:18px;max-width:520px;text-align:center}
    #cover h2{font-family:"Alex Brush",cursive;color:var(--green-800);font-size:42px;margin:0 0 6px}
    #cover p{margin:0 0 16px}

    /* Animasi */
    @keyframes fadeIn { from { opacity: 0; } to { opacity: 1; } }
    @keyframes slideIn { from { transform: translateY(-50px); opacity: 0; } to { transform: translateY(0); opacity: 1; } }
    @keyframes zoomIn { from { transform: scale(0.5); opacity: 0; } to { transform: scale(1); opacity: 1; } }
    @keyframes fadeUp { from { transform: translateY(30px); opacity: 0; } to { transform: translateY(0); opacity: 1; } }

    .invitation-title { font-size: 2rem; font-weight: 600; color: #1b5e20; animation: slideIn 2s ease-out; }
    .bride-groom { font-size: 2.5rem; font-weight: bold; color: #2e7d32; animation: fadeIn 3s ease-in-out, zoomIn 2s ease-in-out; }
    .date { font-size: 0.5rem; font-weight: 100; animation: fadeIn 3s ease-in-out; }
    .location { font-size: 1.2rem; animation: fadeUp 2s ease-in-out; }
  </style>
</head>
<body>
  <!-- Musik latar -->
  <audio id="bgm" loop playsinline preload="auto" src="musikagus.mp3"></audio>

  <!-- Cover -->
  <div id="cover">
    <div class="inner ornate">
      <header class="hero">
        <span class="badge-date">Minggu, 14 September 2025</span>
        <h3 class="invitation-title">Undangan Pernikahan</h3>
        <div style="display:flex;align-items:center;justify-content:center">
          <img alt="Ilustrasi pengantin" src="pengantin1.png" style="border-radius:0px;border:0px solid rgba(10,54,33,.2)" width="80"/>
        </div>
        <h2 class="bride-groom">Agus & Yaya</h2>
         <div class="countdown" id="countdownMain"></div>
      </header>
      <p>Dengan senang hati kami mengundang Anda untuk hadir pada acara pernikahan kami.</p>
      <button id="openInvite" class="btn" type="button">Buka Undangan</button>
    </div>
  </div>

  <main class="container fade-in">
    <section class="ornate">
      <header class="hero">
        <span class="badge-date">Minggu, 14 September 2025</span>
        <h1 class="names">Agus & Fitria</h1>
        <div class="sub">Agus Setiawan & Siti Fitria Nurhasanah (Yaya)</div>
      </header>
      <div class="grid-2 card" style="margin:0 18px 18px">
        <div>
          <center>
            <h3 style="margin:0;color:var(--green-800)">Assalamu'alaikum Warahmatullahi Wabarakatuh</h3>
            <p>Dengan memohon rahmat dan ridho Allah SWT, kami bermaksud menyelenggarakan akad nikah dan resepsi pernikahan kami pada:</p>
            <strong><u>Tanggal :</u></strong> <br>Minggu, 14 September 2025<br><br>
            <strong><u>Lokasi :</u></strong><br>Kp.Cibungur RT.06 RW.02 Desa Cikaum Barat, Kecamatan Cikaum, Kabupaten Subang
          </center>
          <div class="countdown" id="countdownMain"></div>
        </div>
        <div style="display:flex;align-items:center;justify-content:center">
          <img alt="Ilustrasi pengantin" src="pengantin.jpg" style="border-radius:16px;border:1px solid rgba(20,108,67,.15)"/>
        </div>
      </div>
    </section>

    <!-- Turut Mengundang -->
    <section class="card" id="mengundang" style="margin-top:18px">
      <div class="section-title"><span>Turut Mengundang</span></div>
      <ul>
        <li>A Ahyan (Kakak)</li>
        <li>A Komeng (Kakak)</li>
        <li>Siti Rohmayanti - Ramlan (Kakak)</li>
        <li>Puput Iis K (Sahabat)</li>
        <li>Yulia Nengsri (Sahabat)</li>
        <li>Febriani Alya F.S (Sahabat)</li>
        <li>Sukma (Sahabat)</li>
        <li>Wartiah (Sahabat)</li>
        <li>Ratih Apriasih (Sahabat)</li>
        <li>Winata (Sahabat)</li>
        <li>Cari (Sahabat)</li>
        <li>Ruhyat (Sahabat)</li>
        <li>Taupik (Sahabat)</li>
        <br>
        <li>Keluarga Besar SMKN 1 Cikaum</li>
        <li>PT. Handsome Cutting F1</li>
        <li>Alumni Angkatan 11 SMKN 1 Cikaum</li>
        <li>Alumni Angkatan 12 SMKN 1 Cikaum</li>
        <li>Alumni Angkatan 15 SMKN 1 Cikaum</li>
        <li>Jawa Pride</li>
        <li>Segenap Family Incu Buyut Abah Wastari</li>
        <li>Segenap Family Kobersat 2011</li>
      </ul>
    </section>

    <!-- Lokasi -->
    <section class="card" id="maps" style="margin-top:18px">
      <div class="section-title"><span>Lokasi Acara</span></div>
      <p>Kp.Cibungur RT.06 RW.02 Desa Cikaum Barat, Kecamatan Cikaum, Kabupaten Subang</p>
      <div style="position:relative;padding-bottom:56%;height:0;overflow:hidden;border-radius:16px;border:1px solid rgba(20,108,67,.15)">
        <iframe title="Peta Lokasi" src="https://www.google.com/maps?q=Kp.Cibungur%20RT.06%20RW.02%20Desa%20Cikaum%20Barat%20Kecamatan%20Cikaum%20Kabupaten%20Subang&output=embed" style="position:absolute;top:0;left:0;width:100%;height:100%;border:0" loading="lazy"></iframe>
      </div>
      <p style="margin-top:8px"><a class="btn alt" target="_blank" href="https://www.google.com/maps/search/?api=1&query=Kp.Cibungur%20RT.06%20RW.02%20Desa%20Cikaum%20Barat%20Kecamatan%20Cikaum%20Kabupaten%20Subang">Buka di Google Maps</a></p>
    </section>

    <!-- Gift -->
    <section class="card" id="gift" style="margin-top:18px">
      <div class="section-title"><span>Gift / Hadiah</span></div>
      <div align="center">
        <p>Bank BRI <strong>4347-0102-2927-537</strong><br/>a/n: <strong>Agus Setiawan</strong></p>
        <div style="display:flex;gap:10px;flex-wrap:wrap;justify-content:center">
          <button id="copyRek" class="btn" type="button">Salin Nomor Rekening</button>
          <a class="btn alt" target="_blank" href="https://api.qrserver.com/v1/create-qr-code/?size=300x300&data=BRI%204347-0102-2927-537%20a/n%20Agus%20Setiawan">Lihat QR</a>
        </div>
      </div>
    </section>

    <!-- Komentar -->
    <section class="card" id="komentar" style="margin-top:18px">
      <div class="section-title"><span>Kolom Ucapan & Komentar</span></div>
      <form id="commentForm" autocomplete="on" style="display:grid;gap:10px;margin-top:10px">
        <input required id="cName" placeholder="Nama" style="padding:12px 14px;border:1px solid rgba(20,108,67,.25);border-radius:12px" />
        <textarea required id="cMsg" placeholder="Tulis ucapan atau doa..." rows="3" style="padding:12px 14px;border:1px solid rgba(20,108,67,.25);border-radius:12px;resize:vertical"></textarea>
        <button class="btn" type="submit">Kirim</button>
      </form>
      <div class="divider"></div>
      <div id="commentList" style="display:grid;gap:10px"></div>
    </section>

    <footer>
      Dengan penuh cinta, <br>
      <strong>Agus &amp; Siti</strong><br>
      Minggu, 14 September 2025
    </footer>
  </main>

  <script>
    const cover = document.getElementById('cover');
    const openInvite = document.getElementById('openInvite');
    const bgm = document.getElementById('bgm');

    async function tryPlay(){
      try{
        bgm.muted = false;
        await bgm.play();
      }catch(e){ console.log('Autoplay ditolak:', e); }
    }

    openInvite.addEventListener('click', async () => {
      cover.style.display = 'none';
      tryPlay();
      window.scrollTo({ top: 0, behavior: 'smooth' });
    });

    window.addEventListener('load', () => {
      bgm.muted = true;
      bgm.play().then(() => {
        setTimeout(() => { bgm.muted = false; }, 400);
      }).catch(()=>{});
    });

    // ====== COUNTDOWN ======
    const target = new Date('2025-09-14T09:00:00+07:00').getTime();
    const cdCover = document.getElementById('countdownCover');
    const cdMain = document.getElementById('countdownMain');

    function updateCountdown(){
      const now = Date.now();
      let diff = Math.max(0, target - now);
      const d = Math.floor(diff / (1000*60*60*24)); diff -= d*24*60*60*1000;
      const h = Math.floor(diff / (1000*60*60)); diff -= h*60*60*1000;
      const m = Math.floor(diff / (1000*60)); diff -= m*60*1000;
      

      const html = `
        <div class="cd-box"><div class="cd-n">${d}</div><div class="cd-l">Hari</div></div>
        <div class="cd-box"><div class="cd-n">${h}</div><div class="cd-l">Jam</div></div>
        <div class="cd-box"><div class="cd-n">${m}</div><div class="cd-l">Menit</div></div>
        
      `;

      if(cdCover) cdCover.innerHTML = html;
      if(cdMain) cdMain.innerHTML = html;
    }

    updateCountdown();
    setInterval(updateCountdown, 1000);

    // ====== COPY REKENING ======
    document.getElementById('copyRek').addEventListener('click', async () => {
      const text = 'BRI 4347-0102-2927-537 a/n Agus Setiawan';
      try{ await navigator.clipboard.writeText(text); alert('Nomor rekening disalin!'); }
      catch{ prompt('Salin manual nomor rekening:', text); }
    });

    // ====== KOMENTAR (LocalStorage) ======
    const form = document.getElementById('commentForm');
    const list = document.getElementById('commentList');
    const KEY = 'undangan-komentar-agus-siti-v1';

    function loadComments(){
      const raw = localStorage.getItem(KEY);
      let arr = [];
      try{ arr = raw ? JSON.parse(raw) : []; }catch{ arr = []; }
      return Array.isArray(arr) ? arr : [];
    }

    function saveComments(arr){
      localStorage.setItem(KEY, JSON.stringify(arr));
    }

    function render(){
      const arr = loadComments();
      if(arr.length === 0){
        list.innerHTML = '<div class="comment">Belum ada komentar. Jadilah yang pertama!</div>';
        return;
      }
      list.innerHTML = arr.slice().reverse().map((c,i)=>{
        const t = new Date(c.t).toLocaleString('id-ID', {dateStyle:'medium', timeStyle:'short'});
        return `<div class="comment"><strong>${escapeHtml(c.n)}</strong><br><div>${escapeHtml(c.m)}</div><small>${t}</small></div>`;
      }).join('');
    }

    function escapeHtml(str){
      return String(str).replace(/[&<>"]+/g, s=>({"&":"&amp;","<":"&lt;",">":"&gt;","\"":"&quot;"}[s]));
    }

    form.addEventListener('submit', e => {
      e.preventDefault();
      const n = document.getElementById('cName').value.trim();
	  const m = document.getElementById('cMsg').value.trim();
	  
      if(!n || !m){ return; }
      const arr = loadComments();
      arr.push({n, m, t: Date.now()});
      saveComments(arr);
      form.reset();
      render();
    });

    render();
  </script>
</body>
</html>
